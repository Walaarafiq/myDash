<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>بيانات الموظفين | وزارة الإقتصاد الوطني</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="img/favicon.png" />
    <link rel="apple-touch-icon" href="img/apple-icon.png" />

    <!-- Bootstrap & Fonts & Icons -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="plugins/fontawesome/css/fontawesome.min.css" />
    <link rel="stylesheet" href="plugins/fontawesome/css/all.min.css" />
    <link rel="stylesheet" href="plugins/tabler-icons/tabler-icons.min.css" />
    <link rel="stylesheet" href="plugins/simplebar/simplebar.min.css" />
    <link rel="stylesheet" href="css/style.css" id="app-style" />

    <!-- صفحة الموظفين  -->
    <style>
      :root {
        --gold: #d4af37;
        --gold-600: #c19a1a;
        --muted: #6b7280;
        --line: #e7eaee;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family: "Tajawal", system-ui, -apple-system, Segoe UI, Roboto,
          Arial;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-weight: 700;
      }

      /* زر ذهبي موحد */
      .btn-gold {
        background: var(--gold);
        border-color: var(--gold);
        color: #111;
        font-weight: 700;
      }
      .btn-gold:hover {
        background: var(--gold-600);
        border-color: var(--gold-600);
        color: #111;
      }

      /* شارة الحالة */
      .status {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 12px;
      }
      .status--active {
        background: rgba(24, 169, 87, 0.12);
        color: #157347;
      }
      .status--suspended {
        background: rgba(234, 179, 8, 0.12);
        color: #8b6a05;
      }
      .status--retired {
        background: rgba(239, 68, 68, 0.1);
        color: #9b1c1c;
      }

      /* وسوم الفلاتر المطبقة */
      #chips .chip {
        display: inline-flex;
        gap: 6px;
        align-items: center;
        padding: 4px 10px;
        border: 1px dashed var(--line);
        border-radius: 999px;
        background: #fff;
        font-size: 12px;
        color: #4b5563;
        margin: 4px 6px 0 0;
        cursor: pointer;
      }

      .filter-label {
        font-size: 12px;
        color: var(--muted);
      }

      /* جدول الموظفين – يظهر تقريباً 5 صفوف ثم سكرول */
      #employeesTableWrapper {
        max-height: 320px;
        overflow-y: auto;
      }

      /* كارت خاص للجدول مع مارجن إضافي تحت */
      .card-employees {
        margin-bottom: 2.5rem;
      }

      /* مجموعة تشيك بوكس للفلاتر مع سكرول داخلي */
      .filter-checkbox-group {
        border: 1px solid var(--line);
        border-radius: 0.75rem;
        padding: 8px 10px;
        max-height: 180px;
        overflow-y: auto;
        background: #fff;
      }
      .filter-checkbox-group .form-check-label {
        font-size: 13px;
      }

      @media (max-width: 992px) {
        .header-search {
          display: none !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="main-wrapper">
      <!-- ====== الهيدر ====== -->
      <header class="navbar-header">
        <div class="page-container topbar-menu">
          <div class="d-flex align-items-center gap-2">
            <a href="index.html" class="logo" aria-label="الرئيسية">
              <span class="logo-light">
                <span class="logo-lg"
                  ><img src="img/logo.svg" alt="شعار"
                /></span>
                <span class="logo-sm"
                  ><img src="img/logo-small.svg" alt="شعار صغير"
                /></span>
              </span>
              <span class="logo-dark">
                <span class="logo-lg"
                  ><img src="img/logo-white.svg" alt="شعار داكن"
                /></span>
              </span>
            </a>

            <a
              id="mobile_btn"
              class="mobile-btn"
              href="#sidebar"
              aria-label="فتح القائمة الجانبية"
            >
              <i class="ti ti-menu-deep fs-24"></i>
            </a>

            <button
              class="sidenav-toggle-btn btn p-0"
              id="toggle_btn2"
              aria-label="طي الشريط الجانبي"
            >
              <i class="ti ti-chevron-left-pipe"></i>
            </button>

            <div
              class="me-auto d-lg-flex d-none align-items-center header-search"
            >
              <img
                src="img/69033f476c6467000e30771b.png"
                width="100"
                height="100"
                alt="هوية النظام"
              />
            </div>
          </div>

          <div class="d-flex align-items-center">
            <div class="header-item">
              <a href="#" class="btn me-2 topbar-link" aria-label="تسجيل الخروج"
                ><i class="ti ti-logout fs-16"></i
              ></a>
            </div>

            <div class="header-item dropdown me-2">
              <button
                class="topbar-link btn btn-icon dropdown-toggle drop-arrow-none"
                data-bs-toggle="dropdown"
                data-bs-offset="0,24"
                type="button"
                aria-haspopup="true"
                aria-expanded="false"
                aria-label="التنبيهات"
              >
                <i class="ti ti-bell fs-16 animate-ring"></i>
                <span class="notification-badge"></span>
              </button>
              <div
                class="dropdown-menu p-0 dropdown-menu-end dropdown-menu-lg"
                style="min-height: 300px"
              >
                <div class="p-2 border-bottom">
                  <div class="row align-items-center">
                    <div class="col">
                      <h6 class="m-0 fs-16 fw-semibold">Notifications</h6>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="header-item">
              <a href="#" class="btn me-2 topbar-link" aria-label="الرسائل"
                ><i class="ti ti-message fs-16"></i
              ></a>
            </div>
            <a href="#" class="btn topbar-link" aria-label="الملف الشخصي"
              ><img
                src="img/users/user-04.jpg"
                alt="user photo"
                width="45"
                height="45"
                style="border-radius: 50%"
            /></a>
          </div>
        </div>
      </header>

      <!-- ====== الشريط الجانبي ====== -->
      <div class="sidebar" id="sidebar">
        <div class="sidebar-logo">
          <div>
            <a href="index.html" class="logo logo-normal">
              <h5 class="fw-bold text-center mt-1" style="color: #d4af37">
                وزارة الإقتصاد الوطني
              </h5>
            </a>
            <a href="" class="logo-small">
              <button class="btn btn-light">
                <i class="fa-solid fa-bars"></i>
              </button>
            </a>
            <a href="index.html" class="dark-logo">
              <h5 class="fw-bold text-center text-primary mt-1">
                وزارة الإقتصاد الوطني
              </h5>
            </a>
          </div>
          <button class="sidenav-toggle-btn btn p-0" id="toggle_btn">
            <i class="ti ti-chevron-left-pipe"></i>
          </button>
          <button class="sidebar-close">
            <i class="ti ti-x align-middle"></i>
          </button>
        </div>

        <div class="sidebar-inner" data-simplebar>
          <div id="sidebar-menu" class="sidebar-menu">
            <ul>
              <li class="menu-title"><span>الرئيسية</span></li>
              <li>
                <ul>
                  <li class="submenu">
                    <a href="javascript:void(0);" class="active subdrop">
                      <i class="ti ti-user"></i><span>شؤون الموظفين</span>
                      <span class="menu-arrow"></span>
                    </a>
                    <ul>
                      <li>
                        <a href="EmployeeDetails.html" class="active"
                          >بيانات الموظفين</a
                        >
                      </li>
                      <li><a href="index.html">عقود دائمة</a></li>
                      <li><a href="index.html">متقاعدين</a></li>
                      <li><a href="index.html">مسافرين</a></li>
                    </ul>
                  </li>
                  <li class="submenu">
                    <a href="javascript:void(0);" class="active subdrop">
                      <i class="ti ti-list"></i><span>الثوابت والقوائم</span>
                      <span class="menu-arrow"></span>
                    </a>
                    <ul>
                      <li><a href="index.html" class="active">الوزارات</a></li>
                      <li><a href="index-2.html">التصنيفات العامة</a></li>
                      <li><a href="index-3.html">الفئات</a></li>
                      <li><a href="index-4.html">السلم الوظيفي</a></li>
                      <li><a href="index-3.html">الدرجات</a></li>
                      <li><a href="index-3.html">الأقدمية</a></li>
                      <li><a href="index-3.html">التجزئة</a></li>
                      <li><a href="index-3.html">البرامج</a></li>
                      <li><a href="index-3.html">أماكن العمل</a></li>
                      <li><a href="index-3.html">المسميات الإدارية</a></li>
                      <li><a href="index-3.html">الترقيات</a></li>
                      <li><a href="index-3.html">لجان التقاعد</a></li>
                      <li><a href="index-3.html">الشهادات</a></li>
                    </ul>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-files"></i><span>المرفقات</span>
                      <span class="menu-arrow"></span>
                    </a>
                    <ul>
                      <li>
                        <a href="index.html" class="active">بيانات الموظفين</a>
                      </li>
                      <li><a href="index-2.html">عقود دائمة</a></li>
                      <li><a href="index-3.html">متقاعدين</a></li>
                      <li><a href="index-4.html">مسافرين</a></li>
                    </ul>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-building"></i
                      ><span>المعلومات البنكية</span>
                      <span class="menu-arrow"></span>
                    </a>
                    <ul>
                      <li>
                        <a href="index.html" class="active">بيانات الموظفين</a>
                      </li>
                      <li><a href="index-2.html">عقود دائمة</a></li>
                      <li><a href="index-3.html">متقاعدين</a></li>
                      <li><a href="index-4.html">مسافرين</a></li>
                    </ul>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-users"></i><span>الأبناء</span>
                    </a>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-users"></i><span>الزوجات</span>
                    </a>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-wallet"></i><span>العلاوات</span>
                      <span class="menu-arrow"></span>
                    </a>
                    <ul>
                      <li>
                        <a href="index.html" class="active">بيانات الموظفين</a>
                      </li>
                      <li><a href="index-2.html">عقود دائمة</a></li>
                      <li><a href="index-3.html">متقاعدين</a></li>
                      <li><a href="index-4.html">مسافرين</a></li>
                    </ul>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-currency-dollar"></i
                      ><span>قسائم الرواتب</span>
                    </a>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-settings"></i><span>عمليات النظام</span>
                      <span class="menu-arrow"></span>
                    </a>
                    <ul>
                      <li>
                        <a href="index.html" class="active">بيانات الموظفين</a>
                      </li>
                      <li><a href="index-2.html">عقود دائمة</a></li>
                      <li><a href="index-3.html">متقاعدين</a></li>
                      <li><a href="index-4.html">مسافرين</a></li>
                    </ul>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-chart-line"></i
                      ><span>الإحصائيات والتقارير</span>
                    </a>
                  </li>

                  <li class="submenu">
                    <a href="javascript:void(0);" class="subdrop">
                      <i class="ti ti-printer"></i><span>التصدير والطباعة</span>
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- ====== المحتوى الرئيسي ====== -->
      <div class="page-wrapper">
        <div class="content pb-4" id="employees-page">
          <div class="row g-3 align-items-center mb-2">
            <div class="col-12 col-md">
              <h3 class="m-0">بيانات الموظفين</h3>
              <small class="text-muted fw-bold"
                >ابحث وفلتر حسب الوزارة، الإدارة، المعبر، المسمى، الحالة
                الاجتماعية، المدينة…</small
              >
            </div>
            <div class="col-12 col-md-auto">
              <button class="btn btn-gold">
                <a href="addEmployee.html">
                  <i class="ti ti-user-plus ms-1"></i> أضِف موظف
                </a>
              </button>
            </div>
          </div>

          <!-- الفلاتر -->
          <div class="card mb-3">
            <div class="card-body">
              <div class="row g-2 align-items-end">
                <div class="col-12 col-lg-4 mb-2">
                  <label class="filter-label">بحث سريع</label>
                  <input
                    id="q"
                    type="search"
                    class="form-control"
                    placeholder="ابحث بالاسم أو رقم الهوية…"
                  />
                </div>

                <div class="col-12 col-lg-3 mb-2">
                  <label class="filter-label d-block">&nbsp;</label>
                  <button
                    type="button"
                    class="btn btn-outline-secondary w-100"
                    data-bs-toggle="modal"
                    data-bs-target="#filtersModal"
                  >
                    <i class="ti ti-filter ms-1"></i> فلترة متقدمة
                  </button>
                </div>

                <div class="col-12 col-lg-3 mb-2">
                  <label class="filter-label d-block">&nbsp;</label>
                  <button
                    type="button"
                    class="btn btn-outline-secondary w-100"
                    id="resetAll"
                  >
                    إعادة تعيين الكل
                  </button>
                </div>
              </div>

              <div id="chips" class="mt-3"></div>
            </div>
          </div>

          <!-- Modal الفلاتر المتقدمة -->
          <div
            class="modal fade"
            id="filtersModal"
            tabindex="-1"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-lg modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">الفلاتر المتقدمة</h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="إغلاق"
                  ></button>
                </div>

                <div class="modal-body">
                  <p class="text-muted small mb-3">
                    يمكنك اختيار أكثر من عنصر من كل مجموعة فلاتر.
                  </p>

                  <div class="row g-3">
                    <div class="col-md-4">
                      <label class="filter-label d-block mb-1">الوزارة</label>
                      <div
                        id="filterMinistryGroup"
                        class="filter-checkbox-group small"
                      ></div>
                      <small class="text-muted d-block mt-1"
                        >يمكن اختيار أكثر من وزارة</small
                      >
                    </div>

                    <div class="col-md-4">
                      <label class="filter-label d-block mb-1">الإدارة</label>
                      <div
                        id="filterDirectorateGroup"
                        class="filter-checkbox-group small"
                      ></div>
                      <small class="text-muted d-block mt-1"
                        >الإدارات تتغير حسب الوزارات المختارة</small
                      >
                    </div>

                    <div class="col-md-4">
                      <label class="filter-label d-block mb-1"
                        >المسمى الوظيفي</label
                      >
                      <div
                        id="filterJobTitleGroup"
                        class="filter-checkbox-group small"
                      ></div>
                    </div>

                    <div class="col-md-4">
                      <label class="filter-label d-block mb-1">المدينة</label>
                      <div
                        id="filterCityGroup"
                        class="filter-checkbox-group small"
                      ></div>
                    </div>

                    <div class="col-md-4">
                      <label class="filter-label d-block mb-1"
                        >مكان العمل</label
                      >
                      <div
                        id="filterWorkplaceGroup"
                        class="filter-checkbox-group small"
                      ></div>
                    </div>

                    <div class="col-md-4">
                      <label class="filter-label d-block mb-1"
                        >الحالة الوظيفية</label
                      >
                      <div
                        id="filterStatusGroup"
                        class="filter-checkbox-group small"
                      >
                        <div class="form-check mb-1">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            value="active"
                            id="status_active"
                          />
                          <label class="form-check-label" for="status_active">
                            على رأس عمله
                          </label>
                        </div>
                        <div class="form-check mb-1">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            value="suspended"
                            id="status_suspended"
                          />
                          <label
                            class="form-check-label"
                            for="status_suspended"
                          >
                            موقوف
                          </label>
                        </div>
                        <div class="form-check mb-1">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            value="retired"
                            id="status_retired"
                          />
                          <label class="form-check-label" for="status_retired">
                            متقاعد
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-outline-secondary"
                    id="clearAdvancedFilters"
                  >
                    مسح الفلاتر
                  </button>
                  <button
                    type="button"
                    class="btn btn-gold"
                    id="applyAdvancedFilters"
                    data-bs-dismiss="modal"
                  >
                    تطبيق
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- الجدول -->
          <div class="card card-employees">
            <div class="card-body p-0">
              <div class="table-responsive" id="employeesTableWrapper">
                <table
                  class="table table-hover mb-0 align-middle"
                  id="employeesTable"
                >
                  <thead class="table-light">
                    <tr class="text-muted">
                      <th>اسم الموظف رباعي</th>
                      <th>رقم الهوية</th>
                      <th>مكان العمل</th>
                      <th>الرقم الوظيفي</th>
                      <th>الحالة الوظيفية</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- 1 -->
                    <tr
                      data-ministry="وزارة الإقتصاد الوطني"
                      data-directorate="الإدارة العامة للموارد البشرية"
                      data-jobtitle="مبرمج"
                      data-city="رام الله"
                      data-workplace="المقر الرئيسي – رام الله"
                      data-status="active"
                    >
                      <td>محمد أحمد محمود سالم</td>
                      <td>401234567</td>
                      <td>المقر الرئيسي – رام الله</td>
                      <td>NE-10234</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 2 -->
                    <tr
                      data-ministry="وزارة الإقتصاد الوطني"
                      data-directorate="إدارة المعابر"
                      data-jobtitle="موظف معابر"
                      data-city="غزة"
                      data-workplace="المعابر"
                      data-status="suspended"
                    >
                      <td>أحمد رائد محمد طموس</td>
                      <td>402345678</td>
                      <td>المعابر</td>
                      <td>NE-11567</td>
                      <td>
                        <span class="status status--suspended">موقوف</span>
                      </td>
                    </tr>
                    <!-- 3 -->
                    <tr
                      data-ministry="وزارة المالية"
                      data-directorate="إدارة الشؤون الإدارية"
                      data-jobtitle="محاسب"
                      data-city="نابلس"
                      data-workplace="نابلس"
                      data-status="retired"
                    >
                      <td>خليل يوسف محمد بركات</td>
                      <td>403456789</td>
                      <td>نابلس</td>
                      <td>MF-22011</td>
                      <td>
                        <span class="status status--retired">متقاعد</span>
                      </td>
                    </tr>
                    <!-- 4 -->
                    <tr
                      data-ministry="وزارة الصحة"
                      data-directorate="الإدارة العامة للمستشفيات"
                      data-jobtitle="طبيب عام"
                      data-city="غزة"
                      data-workplace="مجمع الشفاء الطبي"
                      data-status="active"
                    >
                      <td>سامي خليل عبد القادر</td>
                      <td>404567890</td>
                      <td>مجمع الشفاء الطبي</td>
                      <td>MOH-33421</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 5 -->
                    <tr
                      data-ministry="وزارة التربية والتعليم"
                      data-directorate="الإدارة العامة للتعليم العام"
                      data-jobtitle="معلم"
                      data-city="الخليل"
                      data-workplace="مدرسة الخليل الأساسية"
                      data-status="active"
                    >
                      <td>محمود إبراهيم أبو عيشة</td>
                      <td>405678901</td>
                      <td>مدرسة الخليل الأساسية</td>
                      <td>MOE-88210</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 6 -->
                    <tr
                      data-ministry="وزارة الزراعة"
                      data-directorate="الإدارة العامة للإرشاد الزراعي"
                      data-jobtitle="مهندس زراعي"
                      data-city="جنين"
                      data-workplace="مديرية زراعة جنين"
                      data-status="active"
                    >
                      <td>يوسف جهاد نمر جرار</td>
                      <td>406789012</td>
                      <td>مديرية زراعة جنين</td>
                      <td>MOA-11023</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 7 -->
                    <tr
                      data-ministry="وزارة الداخلية"
                      data-directorate="الإدارة العامة للأحوال المدنية"
                      data-jobtitle="موظف سجلات"
                      data-city="رام الله"
                      data-workplace="أحوال مدنية رام الله"
                      data-status="suspended"
                    >
                      <td>حسن عدنان عبد الهادي</td>
                      <td>407890123</td>
                      <td>أحوال مدنية رام الله</td>
                      <td>MOI-56203</td>
                      <td>
                        <span class="status status--suspended">موقوف</span>
                      </td>
                    </tr>
                    <!-- 8 -->
                    <tr
                      data-ministry="وزارة العمل"
                      data-directorate="الإدارة العامة للتفتيش"
                      data-jobtitle="مفتش عمل"
                      data-city="طولكرم"
                      data-workplace="مديرية عمل طولكرم"
                      data-status="active"
                    >
                      <td>باسل خالد حسن عودة</td>
                      <td>408901234</td>
                      <td>مديرية عمل طولكرم</td>
                      <td>MOL-77201</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 9 -->
                    <tr
                      data-ministry="وزارة الإتصالات وتكنولوجيا المعلومات"
                      data-directorate="الإدارة العامة للأنظمة"
                      data-jobtitle="مهندس شبكات"
                      data-city="غزة"
                      data-workplace="الوزارة – غزة"
                      data-status="active"
                    >
                      <td>رائد محمد سليم العكلوك</td>
                      <td>409012345</td>
                      <td>الوزارة – غزة</td>
                      <td>MIT-30011</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 10 -->
                    <tr
                      data-ministry="وزارة النقل والمواصلات"
                      data-directorate="الإدارة العامة للترخيص"
                      data-jobtitle="موظف ترخيص"
                      data-city="نابلس"
                      data-workplace="مديرية ترخيص نابلس"
                      data-status="retired"
                    >
                      <td>جمال سليم نمر قاسم</td>
                      <td>410123456</td>
                      <td>مديرية ترخيص نابلس</td>
                      <td>MOT-11890</td>
                      <td>
                        <span class="status status--retired">متقاعد</span>
                      </td>
                    </tr>
                    <!-- 11 -->
                    <tr
                      data-ministry="وزارة المالية"
                      data-directorate="الإدارة العامة للرواتب"
                      data-jobtitle="مراقب مالي"
                      data-city="رام الله"
                      data-workplace="وزارة المالية – رام الله"
                      data-status="active"
                    >
                      <td>ليث عبد الله خليل أبو شنب</td>
                      <td>411234567</td>
                      <td>وزارة المالية – رام الله</td>
                      <td>MOF-99021</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 12 -->
                    <tr
                      data-ministry="وزارة الصحة"
                      data-directorate="الإدارة العامة للرعاية الأولية"
                      data-jobtitle="ممرض قانوني"
                      data-city="غزة"
                      data-workplace="مركز الرعاية الأولية – الشاطئ"
                      data-status="active"
                    >
                      <td>إبراهيم أحمد عبد الرازق</td>
                      <td>412345678</td>
                      <td>مركز الرعاية الأولية – الشاطئ</td>
                      <td>MOH-55090</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                    <!-- 13 -->
                    <tr
                      data-ministry="وزارة التربية والتعليم"
                      data-directorate="الإدارة العامة للتعليم المهني"
                      data-jobtitle="مرشد تربوي"
                      data-city="بيت لحم"
                      data-workplace="مدرسة بيت لحم الثانوية"
                      data-status="suspended"
                    >
                      <td>معتز فؤاد خميس الأطرش</td>
                      <td>413456789</td>
                      <td>مدرسة بيت لحم الثانوية</td>
                      <td>MOE-66340</td>
                      <td>
                        <span class="status status--suspended">موقوف</span>
                      </td>
                    </tr>
                    <!-- 14 -->
                    <tr
                      data-ministry="وزارة الزراعة"
                      data-directorate="الإدارة العامة للثروة الحيوانية"
                      data-jobtitle="فني بيطري"
                      data-city="قلقيلية"
                      data-workplace="مديرية زراعة قلقيلية"
                      data-status="retired"
                    >
                      <td>نادر محمود عبد الكريم ريان</td>
                      <td>414567890</td>
                      <td>مديرية زراعة قلقيلية</td>
                      <td>MOA-22107</td>
                      <td>
                        <span class="status status--retired">متقاعد</span>
                      </td>
                    </tr>
                    <!-- 15 -->
                    <tr
                      data-ministry="وزارة الإقتصاد الوطني"
                      data-directorate="الإدارة العامة لحماية المستهلك"
                      data-jobtitle="مفتش تمويني"
                      data-city="طولكرم"
                      data-workplace="مكتب وزارة الإقتصاد – طولكرم"
                      data-status="active"
                    >
                      <td>عمر تيسير محمد ربيع</td>
                      <td>415678901</td>
                      <td>مكتب وزارة الإقتصاد – طولكرم</td>
                      <td>MNE-77531</td>
                      <td>
                        <span class="status status--active">على رأس عمله</span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="text-center text-muted small mt-2">
            جميع الحقوق محفوظة © 2025 — Ministry Of National Economy
          </div>
        </div>

        <footer
          class="footer d-flex align-items-center justify-content-center flex-column row-gap-2 border-top py-2 px-3"
        >
          <p class="text-dark mb-0">
            2025 &copy;
            <a href="#" class="link-primary">جميع الحقوق محفوظة</a> "Ministry Of
            National Economy"
          </p>
        </footer>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="plugins/simplebar/simplebar.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/script.js"></script>

    <!-- سكربت الفلترة مع التشيك بوكس -->
    <script>
      (function () {
        const rows = Array.from(
          document.querySelectorAll("#employeesTable tbody tr")
        );

        const els = {
          q: document.getElementById("q"),
          chips: document.getElementById("chips"),
          groups: {
            ministries: document.getElementById("filterMinistryGroup"),
            directorates: document.getElementById("filterDirectorateGroup"),
            jobTitles: document.getElementById("filterJobTitleGroup"),
            cities: document.getElementById("filterCityGroup"),
            workplaces: document.getElementById("filterWorkplaceGroup"),
            statuses: document.getElementById("filterStatusGroup"),
          },
          applyAdvanced: document.getElementById("applyAdvancedFilters"),
          clearAdvanced: document.getElementById("clearAdvancedFilters"),
          resetAll: document.getElementById("resetAll"),
        };

        function getCheckedValues(container) {
          if (!container) return [];
          return Array.from(
            container.querySelectorAll('input[type="checkbox"]:checked')
          ).map((cb) => cb.value);
        }

        function clearGroup(container) {
          if (!container) return;
          container
            .querySelectorAll('input[type="checkbox"]')
            .forEach((cb) => (cb.checked = false));
        }

        function createCheckbox(container, value, label, namePrefix, index) {
          const id = namePrefix + "_" + index;
          const wrapper = document.createElement("div");
          wrapper.className = "form-check mb-1";

          const input = document.createElement("input");
          input.className = "form-check-input";
          input.type = "checkbox";
          input.value = value;
          input.id = id;

          const lab = document.createElement("label");
          lab.className = "form-check-label";
          lab.setAttribute("for", id);
          lab.textContent = label || value;

          wrapper.appendChild(input);
          wrapper.appendChild(lab);
          container.appendChild(wrapper);
        }

        function populateGroup(container, values, namePrefix) {
          if (!container) return;
          const prevSelected = getCheckedValues(container);
          container.innerHTML = "";
          values.forEach((v, i) => {
            if (!v) return;
            createCheckbox(container, v, v, namePrefix, i);
          });
          container.querySelectorAll('input[type="checkbox"]').forEach((cb) => {
            if (prevSelected.includes(cb.value)) cb.checked = true;
          });
        }

        const sets = {
          ministries: new Set(),
          cities: new Set(),
          workplaces: new Set(),
          jobTitles: new Set(),
          directoratesByMinistry: new Map(),
        };

        // تجميع بيانات الفلاتر من الصفوف
        rows.forEach((tr) => {
          const { ministry, directorate, city, workplace, jobtitle } =
            tr.dataset;

          if (ministry) sets.ministries.add(ministry);
          if (city) sets.cities.add(city);
          if (workplace) sets.workplaces.add(workplace);
          if (jobtitle) sets.jobTitles.add(jobtitle);

          if (ministry && directorate) {
            if (!sets.directoratesByMinistry.has(ministry)) {
              sets.directoratesByMinistry.set(ministry, new Set());
            }
            sets.directoratesByMinistry.get(ministry).add(directorate);
          }
        });

        function updateDirectoratesOptions() {
          const container = els.groups.directorates;
          if (!container) return;

          const selectedMinistries = getCheckedValues(els.groups.ministries);
          const dirSet = new Set();

          if (!selectedMinistries.length) {
            sets.directoratesByMinistry.forEach((dirs) => {
              dirs.forEach((d) => dirSet.add(d));
            });
          } else {
            selectedMinistries.forEach((m) => {
              const dirs = sets.directoratesByMinistry.get(m);
              if (dirs) dirs.forEach((d) => dirSet.add(d));
            });
          }

          populateGroup(container, Array.from(dirSet), "directorate");
        }

        function initAdvancedOptions() {
          populateGroup(
            els.groups.ministries,
            Array.from(sets.ministries),
            "ministry"
          );
          populateGroup(els.groups.cities, Array.from(sets.cities), "city");
          populateGroup(
            els.groups.workplaces,
            Array.from(sets.workplaces),
            "workplace"
          );
          populateGroup(
            els.groups.jobTitles,
            Array.from(sets.jobTitles),
            "jobTitle"
          );
          updateDirectoratesOptions();
        }

        const getFilters = () => ({
          q: (els.q?.value || "").trim().toLowerCase(),
          ministries: getCheckedValues(els.groups.ministries),
          directorates: getCheckedValues(els.groups.directorates),
          jobTitles: getCheckedValues(els.groups.jobTitles),
          cities: getCheckedValues(els.groups.cities),
          workplaces: getCheckedValues(els.groups.workplaces),
          statuses: getCheckedValues(els.groups.statuses),
        });

        function apply() {
          const f = getFilters();

          rows.forEach((tr) => {
            const text = tr.innerText.toLowerCase();
            const passText = !f.q || text.includes(f.q);

            const passMinistry =
              !f.ministries.length ||
              f.ministries.includes(tr.dataset.ministry || "");
            const passDirectorate =
              !f.directorates.length ||
              f.directorates.includes(tr.dataset.directorate || "");
            const passJobTitle =
              !f.jobTitles.length ||
              f.jobTitles.includes(tr.dataset.jobtitle || "");
            const passCity =
              !f.cities.length || f.cities.includes(tr.dataset.city || "");
            const passWorkplace =
              !f.workplaces.length ||
              f.workplaces.includes(tr.dataset.workplace || "");
            const passStatus =
              !f.statuses.length ||
              f.statuses.includes(tr.dataset.status || "");

            const pass =
              passText &&
              passMinistry &&
              passDirectorate &&
              passJobTitle &&
              passCity &&
              passWorkplace &&
              passStatus;

            tr.style.display = pass ? "" : "none";
          });

          renderChips(f);
        }

        function renderChips(f) {
          const labels = {
            q: "بحث",
            ministries: "الوزارة",
            directorates: "الإدارة",
            jobTitles: "المسمى الوظيفي",
            cities: "المدينة",
            workplaces: "مكان العمل",
            statuses: "الحالة الوظيفية",
          };
          els.chips.innerHTML = "";

          Object.entries(f).forEach(([key, value]) => {
            const hasValue = key === "q" ? !!value : value.length > 0;
            if (!hasValue) return;

            const chip = document.createElement("span");
            chip.className = "chip";

            const textValue =
              key === "q"
                ? value
                : value.length > 3
                ? value.slice(0, 3).join("، ") + "..."
                : value.join("، ");

            chip.innerHTML = "<b>" + labels[key] + ":</b> " + textValue;

            chip.addEventListener("click", () => {
              if (key === "q") {
                els.q.value = "";
              } else {
                const map = {
                  ministries: els.groups.ministries,
                  directorates: els.groups.directorates,
                  jobTitles: els.groups.jobTitles,
                  cities: els.groups.cities,
                  workplaces: els.groups.workplaces,
                  statuses: els.groups.statuses,
                };
                clearGroup(map[key]);
              }
              apply();
            });

            els.chips.appendChild(chip);
          });
        }

        function resetAll() {
          if (els.q) els.q.value = "";
          Object.values(els.groups).forEach(clearGroup);
          apply();
        }

        if (els.q) els.q.addEventListener("input", apply);
        if (els.applyAdvanced)
          els.applyAdvanced.addEventListener("click", apply);
        if (els.clearAdvanced) {
          els.clearAdvanced.addEventListener("click", () => {
            Object.values(els.groups).forEach(clearGroup);
            apply();
          });
        }
        if (els.resetAll) els.resetAll.addEventListener("click", resetAll);
        if (els.groups.ministries) {
          els.groups.ministries.addEventListener(
            "change",
            updateDirectoratesOptions
          );
        }

        initAdvancedOptions();
        apply();
      })();
    </script>
  </body>
</html>
